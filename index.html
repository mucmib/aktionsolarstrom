<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Solarstrom statt Erdgas-Strom – Info & Mitmachen</title>
  <!-- Open Graph -->
<meta property="og:type" content="website">
<meta property="og:title" content="Solarstrom statt Erdgas-Strom – Info & Mitmachen">
<meta property="og:description" content="Alle Infos zur Kampagne: Ziele, Hintergründe, Materialien und Mitmach-Möglichkeiten.">
<meta property="og:url" content="https://www.aktionsolarstrom.de/">
<meta property="og:image" content="https://www.aktionsolarstrom.de/assets/SocialCard.jpg">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">

<!-- Twitter (X) Fallback -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Solarstrom statt Erdgas-Strom – Info & Mitmachen">
<meta name="twitter:description" content="Alle Infos zur Kampagne: Ziele, Hintergründe, Materialien und Mitmach-Möglichkeiten.">
<meta name="twitter:image" content="https://www.aktionsolarstrom.de/assets/SocialCard.jpg">

  <meta name="description" content="Alle Infos zur Kampagne Solarstrom statt Erdgas-Strom: Ziele, Hintergründe, Materialien und Mitmach-Möglichkeiten.">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap">
  <style>
    /* === Design-Token === */
    :root{
      --brand: #0a7d32;
      --brand-2: #0bbd54;
      --bg: #f7faf9;
      --card: #fff;
      --text: #1f2937;
      --muted: #6b7280;
      --accent: #f6b10a;
      --radius: 14px;
      --shadow: 0 6px 28px rgba(0,0,0,.08);
      --shadow-lg: 0 18px 48px rgba(0,0,0,.12);
      --maxw: 960px;
      --focus-ring: 2px solid #f6b10a; /* Focus Ring */
    }

    /* === Base === */
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font: 16px/1.7 "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      text-rendering: optimizeLegibility;
      font-synthesis-weight: none;
    }
    img { max-width: 100%; display: block; }
    a { color: var(--brand); text-decoration: none; }
    a:hover { text-decoration: underline; }

    /* Accessible Focus Ring (sichtbar & konsistent) */
    :where(a, button, input, select, textarea, [tabindex]):focus-visible {
      outline: var(--focus-ring);
      outline-offset: 2px;
      border-radius: 6px;
    }

    .page { display:grid; grid-template-columns: 1fr minmax(0, var(--maxw)) 1fr; min-height:100dvh; }
    .middle { grid-column:2; width:100%; padding: 0 16px; }

    /* ===== Theme: neutral vs. warm ===== */
    /* Neutral (sachlich) */
    body.theme-neutral{
      --bg: #f7faf9;
      background: var(--bg) !important;
    }
    /* Warm (Solar) */
    body.theme-warm {
      --bg: #f6f1e8;
      background: linear-gradient(180deg,#f9f6ef 0%, #ffffff 50%, #f4ebdc 100%) !important;
    }

    /* Eco-Texture (CSS-only) */
    body::before{
      content:"";
      position:fixed; inset:0;
      pointer-events:none; z-index:-1;
      background:
        radial-gradient(1px 1px at 25% 15%, rgba(0,0,0,.04) 0, rgba(0,0,0,0) 60%),
        radial-gradient(1px 1px at 60% 40%, rgba(0,0,0,.03) 0, rgba(0,0,0,0) 60%),
        radial-gradient(1px 1px at 80% 70%, rgba(0,0,0,.03) 0, rgba(0,0,0,0) 60%),
        radial-gradient(1px 1px at 40% 85%, rgba(0,0,0,.02) 0, rgba(0,0,0,0) 60%);
      opacity:.28;
      mix-blend-mode:multiply;
    }

    /* ===== HERO mit Hintergrundbild ===== */
    .hero-wrap{
      position:relative;
      overflow:hidden;
      border-radius:0 0 16px 16px;
      background:
        linear-gradient(rgba(0,0,0,.32), rgba(0,0,0,.55)),
        url('assets/Bundestag.jpg') center 45%/cover no-repeat;
    }
    /* Warme Tönung + Solar Glow */
    .hero-wrap::before{
      content:""; position:absolute; inset:0; pointer-events:none;
      background: linear-gradient(0deg, rgba(246,177,10,.08), rgba(246,177,10,.02));
      mix-blend-mode: soft-light;
    }
    .hero-wrap::after{
      content:""; position:absolute; inset:0; pointer-events:none;
      background: radial-gradient(ellipse at 50% 120%, rgba(246,177,10,.28) 0%, rgba(246,177,10,0) 70%);
    }

    .hero{
      display:flex; align-items:center; justify-content:center;
      text-align:center; color:#fff;
      padding: clamp(40px, 7vh, 72px) 16px clamp(56px, 9vh, 90px);
      position:relative;
    }
    .hero-panel{
      background: rgba(10,125,50,.78);
      border-radius:22px; padding:18px 22px;
      width:min(92vw, 760px); max-width:760px;
      box-shadow:0 18px 48px rgba(0,0,0,.28);
      backdrop-filter: blur(2px);
      position:relative; overflow:hidden;
    }
    /* Solar Highlight */
    .hero-panel::after{
      content:""; position:absolute; left:0; right:0; bottom:0; height:6px;
      background: linear-gradient(90deg, #f6b10a, #ffd84a);
    }

    .hero .logo{
      width: clamp(170px, 36vw, 380px);
      height:auto; display:block; margin:0 auto 8px;
      filter: drop-shadow(0 3px 8px rgba(0,0,0,.35));
    }
    .hero h1{
      margin:8px 0 4px;
      font-size: clamp(1.6rem, 2.2vw + 1rem, 2.2rem);
      font-weight:800; color:#fff;
    }
    .hero .tagline{ margin:6px 0 0; font-size:1.04rem; opacity:.96; }
    .cta-row{ margin-top:14px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap; }
    .cta{ display:inline-block; padding:12px 18px; border-radius:12px; font-weight:700; text-decoration:none; transition:transform .15s ease; }
    .cta.primary{ background:linear-gradient(135deg,#0a7d32,#0bbd54); color:#fff; }
    .cta.secondary{ background:#fff; color:#0a7d32; border:1px solid #cfe7d8; }
    .cta:hover{ transform:translateY(-1px); }
    /* CTA Finishing (Primärbutton) */
    .cta.primary{
      box-shadow:0 4px 15px rgba(10,125,50,.25);
      transition: transform .25s ease, box-shadow .25s ease;
    }
    .cta.primary:hover{
      transform: translateY(-2px);
      box-shadow:0 6px 22px rgba(10,125,50,.35);
    }

    /* ===== Zähler ===== */
    .stats-wrap{
      display:flex; justify-content:center;
      transform: translateY(-44px);
      margin-bottom: -28px;
    }
    .stats-banner{
      display:flex; align-items:center; gap:10px;
      padding:10px 16px; min-width:230px;
      background:linear-gradient(135deg,#0a7c5b 0%,#12a37d 50%,#0a7c5b 100%);
      color:#fff; border-radius:12px; box-shadow:0 12px 28px rgba(10,124,91,.28);
    }
    .stats-iconbox{ width:34px; height:34px; display:flex; align-items:center; justify-content:center; background:rgba(255,255,255,.15); border-radius:8px; }
    .stats-icon{ font-size:1.1rem; }
    .stats-text{ line-height:1.1; }
    .stats-label{ font-size:.85rem; opacity:.9; }
    .stats-value{ font-size:1.6rem; font-weight:800; }
    .count{ font-variant-numeric: tabular-nums; }
    .stats-meta{ font-size:.75rem; margin-top:2px; opacity:.85; }
    .stats-meta .dot{ display:inline-block; width:6px; height:6px; border-radius:50%; background:#fff; opacity:.7; margin:0 8px 1px; vertical-align:middle; }

    @media (max-width: 600px){
      .hero{ padding: 48px 12px 72px; }
      .hero-panel{ padding:14px 16px; border-radius:16px; max-width:94vw; }
      .hero .logo{ max-width:78%; }
      .hero .tagline{ font-size:.98rem; }
      .stats-wrap{ transform: translateY(-30px); margin-bottom:-20px; }
      .stats-banner{ padding:8px 12px; min-width:200px; }
      .stats-value{ font-size:1.45rem; }
    }

    /* ===== Sektionen / Karten ===== */
    main.middle > section { margin: 32px 0; }
    .lead { font-size:1.05rem; }
    .section-title{ font-size:1.5rem; margin:0 0 14px; font-weight:700; }
    .grid2 { display:grid; gap:18px; grid-template-columns:1fr; }
    @media (min-width:780px){ .grid2{ grid-template-columns:1fr 1fr } }
    .card {
      border:1px solid rgba(0,0,0,.06);
      border-radius: var(--radius);
      padding:18px;
      background:#fffdf8; /* warm abgetönt */
      box-shadow: var(--shadow);
      transition: transform .2s ease, box-shadow .2s ease;
    }
    .card h3 { margin-top:0; font-weight:700; }
    .card:hover{
      transform: translateY(-3px);
      box-shadow: 0 6px 24px rgba(0,0,0,.12);
    }
    .callout { border-left: 4px solid var(--accent); background:#fff8e1; padding:14px 16px; border-radius: 8px; }

    /* ===== YouTube responsiv ===== */
    .video-wrap {
      position: relative;
      width: 100%;
      max-width: 800px;
      margin: 0 auto 20px;
      aspect-ratio: 16 / 9;
      border-radius: 12px;
      overflow: hidden;
      background: #000;
      box-shadow: 0 6px 24px rgba(0,0,0,.15);
      contain: content;
    }
    .video-wrap iframe { position: absolute; inset: 0; width: 100%; height: 100%; border: 0; }
    @media (max-width:600px){ .video-wrap{ max-width:95vw; margin-bottom:16px; } }

    /* ===== Partner (Hover-Effekt) ===== */
    .partner { border:1px solid rgba(0,0,0,.08); border-radius:12px; padding:18px; background:#fff; box-shadow:0 2px 10px rgba(0,0,0,.04); }
    .partner h2 { margin-top:0; }
    .orgs { display:grid; gap:18px; grid-template-columns:1fr; align-items:start; }
    @media (min-width:780px){ .orgs{ grid-template-columns:1fr 1fr } }
    .org { display:grid; grid-template-columns:80px 1fr; gap:14px; align-items:start; }
    .org .logoBox { display:flex; align-items:center; justify-content:center; background:#f9fafb; border:1px solid #e5e7eb; border-radius:10px; padding:10px; transition: transform .2s ease, box-shadow .2s ease; }
    .org img { max-width:100%; height:auto; display:block; filter: grayscale(100%); transition: filter .2s ease; }
    .org .logoBox:hover { transform: translateY(-2px); box-shadow:0 6px 18px rgba(0,0,0,.08); }
    .org .logoBox:hover img { filter: none; }

    /* Footer */
    footer .legal { text-align:center; display:block; }

    /* Reveal Animation */
    .reveal{ opacity:0; transform: translateY(12px); }
    .reveal.is-visible{ opacity:1; transform: translateY(0); transition: opacity .55s ease, transform .55s ease; }

    /* ==== Sticky CTA (mobil) ==== */
    @media (max-width:700px){
      .sticky-cta{
        position:fixed; left:0; right:0; bottom:12px; z-index:1000;
        display:flex; justify-content:center; pointer-events:none;
      }
      .sticky-cta a{
        pointer-events:auto;
        background:linear-gradient(135deg,#0a7d32,#0bbd54);
        color:#fff; padding:10px 18px; border-radius:10px;
        font-weight:700; text-decoration:none; box-shadow:0 8px 20px rgba(10,125,50,.25);
      }
    }

    /* ===== Theme Toggle Button ===== */
    .theme-toggle{
      position: fixed; top: 12px; right: 12px; z-index: 1500;
      display:flex; align-items:center; gap:8px;
      background:#ffffffcc; backdrop-filter: blur(6px);
      border:1px solid #e5e7eb; border-radius:999px; padding:6px 10px;
      box-shadow:0 6px 18px rgba(0,0,0,.08);
    }
    .theme-toggle button{
      background:#fff; border:1px solid #d1d5db; border-radius:999px; padding:6px 10px; cursor:pointer; font-weight:700;
    }
    .theme-toggle button[aria-pressed="true"]{
      background: linear-gradient(135deg,#0a7d32,#0bbd54); color:#fff; border-color:transparent;
    }
  </style>
</head>
<body class="theme-warm">
  <div class="page">
    <!-- Theme Toggle -->
    <div class="theme-toggle" role="group" aria-label="Darstellung">
      <button id="btnNeutral" type="button" aria-pressed="false">Sachlich</button>
      <button id="btnWarm" type="button" aria-pressed="true">Solar</button>
    </div>

    <!-- ===== HERO ===== -->
    <header class="site-header middle">
      <div class="hero-wrap">
        <div class="hero">
          <div class="hero-panel reveal">
            <img class="logo" src="assets/logo.png" alt="Kampagnenlogo Solarstrom statt Erdgas-Strom">
            <h1>Solarstrom statt Erdgas-Strom</h1>
            <p class="tagline">
              Informieren. Mitmachen. Briefe an Abgeordnete – wir drucken &amp; versenden physisch.
            </p>
            <div class="cta-row">
              <a class="cta primary" href="#mitmachen">Jetzt mitmachen</a>
              <a class="cta secondary" href="#material">Materialien</a>
            </div>
          </div>
        </div>
      </div>

      <!-- Zähler: eigene Zeile, “angedockt” -->
      <div class="stats-wrap reveal">
        <div class="stats-banner" role="status" aria-live="polite">
          <div class="stats-iconbox"><div class="stats-icon" aria-hidden="true">📄</div></div>
          <div class="stats-text">
            <div class="stats-label">Erzeugte PDF-Briefe</div>
            <div class="stats-value"><span id="pdfCount" class="count">–</span></div>
            <div class="stats-meta" id="statsMeta" hidden>
              <span class="dot" aria-hidden="true"></span>
              <span id="statsTime">Stand: –</span>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- ===== CONTENT ===== -->
    <main class="middle">

      <!-- Einleitung -->
      <section id="intro">
        <div class="lead">
          Wirtschaftsministerin Reiche und Bundeskanzler Friedrich Merz sprechen von Technologieoffenheit und Wirtschaftlichkeit. Mit ihren konkreten Forderungen werden aber einseitig fossile Kraftwerke begünstigt und der Ausbau günstiger Erneuerbaren gebremst. 
          Weniger Ausbau bedeutet: Bürger und Unternehmen mit höheren Stromkosten belasten, den Wirtschaftsstandort Deutschland schwächen, die Abhängigkeit von fossilen Importen aus unzuverlässigen Staaten verlängern und das Klimaziel gefährden.
          Weniger Ausbau steht zudem im Gegensatz zum Wahlprogramm 2025 der Union: <em>„Für uns ist klar: Energie muss bezahlbar, sicher und sauber sein“</em>.
        </div>
        <div class="callout" style="margin-top:12px;">
          <strong>Kernaussage:</strong> Solarstrom senkt Kosten, erhöht Versorgungssicherheit und schützt Klima &amp; Gesundheit.
        </div>
      </section>

      <!-- === Highlight: Studiogast Nina Scheer (ohne Link aktiv) === -->
<section class="card" style="border-left:6px solid #0a7d32; padding:18px 20px; background:#f9fafb; border-radius:16px; box-shadow:0 3px 12px rgba(0,0,0,.06);">
  <h2 style="margin-top:0;">Heute Abend im Studio</h2>
  <p>
    <strong>Dr. Nina Scheer (SPD)</strong> – energiepolitische Sprecherin der Bundestagsfraktion – 
    im Gespräch über den Ausstieg aus Erdgas-Strom und den beschleunigten Ausbau von Solarenergie in Bürgerhand.
  </p>
  <p style="margin:12px 0 0;">
    <a href="javascript:void(0)" 
       style="display:inline-block; background:#b8c8b9; color:#fff; text-decoration:none; font-weight:700; padding:10px 16px; border-radius:10px; cursor:default; opacity:.7;">
       🎥 Livestream-Link folgt
    </a>
  </p>
</section>
<!-- === /Highlight Ende === -->


      <!-- Aktuelle Sendung -->
      <section id="sendung">
        <h2 class="section-title">Der Kampagnenstart</h2>
        <div class="video-wrap">
          <iframe
            src="https://www.youtube-nocookie.com/embed/lzq9l2sW6Lo"
            title="Solarstrom statt Erdgas-Strom – Der Kampagnenstart"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            referrerpolicy="strict-origin-when-cross-origin"
            allowfullscreen
            loading="lazy"></iframe>
        </div>

        <p style="margin-top:10px">
          <a class="cta secondary" href="https://youtu.be/hrUNTbE8zKQ" target="_blank" rel="noopener">
            Auf YouTube ansehen
          </a>
        </p>

        <h3 style="margin-top:30px;">Weitere Beiträge der Aktion</h3>
        <div class="video-wrap">
          <iframe
            src="https://www.youtube-nocookie.com/embed/videoseries?list=PLu9ITSfqUeKtQ50y9FI0tNJ2moLuKDDAc"
            title="YouTube-Playlist: Aktion Solarstrom statt Erdgas-Strom"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            referrerpolicy="strict-origin-when-cross-origin"
            allowfullscreen
            loading="lazy"></iframe>
        </div>
        <p style="margin-top:10px">
          <a class="cta secondary" href="https://www.youtube.com/playlist?list=PLu9ITSfqUeKtQ50y9FI0tNJ2moLuKDDAc" target="_blank" rel="noopener">
            Ganze Playlist auf YouTube ansehen
          </a>
        </p>
      </section>

      <!-- Ziele -->
      <section id="ziele">
        <h2 class="section-title">Kernforderungen</h2>
        <div class="grid2">
          <div class="card">
            <h3>1. Keine neuen Erdgaskraftwerke</h3>
            <p>Spitzenlast mit Bioenergie, Wasserkraft und Speichern abdecken.</p>
          </div>
          <div class="card">
            <h3>2. Ausbau Erneuerbarer beschleunigen</h3>
            <p>und netzdienliche Erzeugung belohnen.</p>
          </div>
          <div class="card">
            <h3>3. Feste Einspeisevergütung beibehalten</h3>
            <p>bis Smart Meter flächendeckend eine einfache, flexible Vergütung erlauben.</p>
          </div>
          <div class="card">
            <h3>4. Bestandsschutz</h3>
            <p>und keine Zusatzbelastung für erneuerbare Stromerzeugung.</p>
          </div>
        </div>
      </section>

      <!-- Hintergrund -->
      <section id="hintergrund">
        <h2 class="section-title">Hintergrund &amp; Argumente</h2>
        <h3>Kosten, Klima &amp; Sicherheit</h3>
        <ul>
          <li>Solarstrom senkt Stromgestehungskosten und Risiken fossiler Preise.</li>
          <li>Direktnutzung reduziert Netzbelastung und Verluste.</li>
          <li>Dezentrale Anlagen erhöhen die Resilienz.</li>
        </ul>
      </section>

      <!-- Materialien -->
      <section id="material">
        <h2 class="section-title">Materialien</h2>
        <p>Hier finden Sie die Begründung für unsere Forderungen – zum Nachlesen und Weitergeben.</p>
        <p>
          <a class="cta secondary" href="Solarstrom statt Erdgasstrom - Die Argumente.pdf" download>📄 Positionspapier</a>
        </p>
      </section>

      <!-- Mitmachen -->
      <section id="mitmachen">
        <h2 class="section-title">Mitmachen</h2>
        <div class="grid2">
          <div class="card">
            <h3>Brief an Abgeordnete</h3>
            <p>Schreiben Sie Ihren Brief – wir übernehmen Ausdruck und Postversand an die zuständige Bundestagsabgeordnete/den zuständigen Abgeordneten.</p>
            <a class="cta primary" href="index-full.html">Brief einreichen</a>
          </div>
        </div>
      </section>

      <!-- Träger -->
      <section id="partner" class="partner">
        <h2 class="section-title">Träger der Kampagne</h2>
        <p>Die Kampagne wird von dem VEEG e.V. und der EWG durchgeführt.</p>
        <div class="orgs">
          <article class="org">
            <div class="logoBox">
              <img src="assets/veeglogo.svg" alt="VEEG e. V. – Verband EnergieErzeugende Gebäude">
            </div>
            <div>
              <h3>VEEG e. V. – Verband EnergieErzeugende Gebäude</h3>
              <p>Der VEEG e. V. fördert Gebäude als aktive Energieproduzenten – also solche, die ihren Energiebedarf selbst erzeugen, möglichst energiekostenfrei werden und Klimaschutz praktisch mitdenken.</p>
              <p><a href="https://ve-eg.de/" target="_blank" rel="noopener">ve-eg.de</a></p>
            </div>
          </article>
          <article class="org">
            <div class="logoBox">
              <img src="assets/energywatchgroup.png" alt="Energy Watch Group (EWG)">
            </div>
            <div>
              <h3>Energy Watch Group (EWG)</h3>
              <p>Die Energy Watch Group (EWG) ist ein gemeinnütziger Think Tank, der sich dem Ziel verschrieben hat, die Klimakrise zu stoppen und die Erdatmosphäre wieder abzukühlen.</p>
              <p><a href="https://energywatchgroup.org/" target="_blank" rel="noopener">energywatchgroup.org</a></p>
            </div>
          </article>
        </div>
      </section>
    </main>

    <footer class="site-footer middle">
      <nav class="legal">
        <a href="Impressum.html">Impressum</a> · <a href="Datenschutz.html">Datenschutz</a>
      </nav>
      <p style="text-align:center">© Kampagne „Solarstrom statt Erdgas-Strom”</p>
    </footer>
  </div>

  <!-- Sticky CTA (mobil) -->
  <div class="sticky-cta">
    <a href="#mitmachen" aria-label="Jetzt mitmachen">Jetzt mitmachen</a>
  </div>

  <script>
    // Theme Toggle (neutral ↔ warm) mit localStorage
    (function(){
      const KEY='theme-mode';
      const body=document.body;
      const btnNeutral=document.getElementById('btnNeutral');
      const btnWarm=document.getElementById('btnWarm');
      function apply(mode){
        if(mode==='neutral'){
          body.classList.remove('theme-warm');
          body.classList.add('theme-neutral');
          btnNeutral.setAttribute('aria-pressed','true');
          btnWarm.setAttribute('aria-pressed','false');
        }else{
          body.classList.remove('theme-neutral');
          body.classList.add('theme-warm');
          btnNeutral.setAttribute('aria-pressed','false');
          btnWarm.setAttribute('aria-pressed','true');
        }
        try{ localStorage.setItem(KEY, mode); }catch(e){}
      }
      // Initial
      try{
        const saved=localStorage.getItem(KEY);
        if(saved==='neutral') apply('neutral'); else apply('warm');
      }catch(e){ apply('warm'); }

      btnNeutral?.addEventListener('click', ()=>apply('neutral'));
      btnWarm?.addEventListener('click', ()=>apply('warm'));
    })();
  </script>

  <script>
    // Smooth Scrolling für In-Page-Links
    document.addEventListener('click', (e) => {
      const a = e.target.closest('a[href^="#"]'); if(!a) return;
      const el = document.querySelector(a.getAttribute('href'));
      if (el) { e.preventDefault(); el.scrollIntoView({behavior:'smooth'}); }
    });

    // ---- Live-Zähler-Logik (PDFs) ----
    const STATS_URL = '/api/stats.json';

    function countUp(el, to, duration = 1200) {
      const fmt = new Intl.NumberFormat('de-DE');
      if (!('requestAnimationFrame' in window) || duration <= 0) {
        el.textContent = fmt.format(Math.max(0, Number(to)||0));
        return;
      }
      const start = performance.now();
      const from = 0;
      function frame(now) {
        const t = Math.min(1, (now - start) / duration);
        const eased = 1 - Math.pow(1 - t, 3);
        const val = Math.round(from + (to - from) * eased);
        el.textContent = fmt.format(val);
        if (t < 1) requestAnimationFrame(frame);
      }
      requestAnimationFrame(frame);
    }

    function formatStandText(isoString) {
      if (!isoString) return null;
      const d = new Date(isoString);
      if (isNaN(d)) return null;
      const fmtDate = new Intl.DateTimeFormat('de-DE', { day:'2-digit', month:'2-digit' }).format(d);
      const fmtTime = new Intl.DateTimeFormat('de-DE', { hour:'2-digit', minute:'2-digit' }).format(d);
      return `Stand: ${fmtDate}, ${fmtTime} Uhr`;
    }

    async function loadCounter() {
      const el = document.getElementById('pdfCount');
      const metaWrap = document.getElementById('statsMeta');
      const metaText = document.getElementById('statsTime');
      if (!el) return;

      try {
        const res = await fetch(STATS_URL + `?nocache=${Date.now()}`, { cache: 'no-store' });
        if (!res.ok) throw new Error('HTTP ' + res.status);
        const data = await res.json();

        const raw = Number(data.pdfs_generated ?? data.count ?? data.sent_emails ?? 0);
        const value = Number.isFinite(raw) && raw >= 0 ? raw : 0;
        countUp(el, value);

        const stand = formatStandText(data.last_update || data.stats_updated_at || data.sent_emails_last_update);
        if (stand && metaWrap && metaText) {
          metaText.textContent = stand;
          metaWrap.hidden = false;
        } else if (metaWrap) {
          metaWrap.hidden = true;
        }
      } catch (e) {
        console.warn('Zähler konnte nicht geladen werden:', e);
        el.textContent = '–';
        if (metaWrap) metaWrap.hidden = true;
      }
    }

    loadCounter();
  </script>

  <script>
    // Reveal on load / scroll
    (function(){
      const els = document.querySelectorAll('.reveal');
      if(!('IntersectionObserver' in window)){ els.forEach(e=>e.classList.add('is-visible')); return; }
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(ent=>{
          if(ent.isIntersecting){ ent.target.classList.add('is-visible'); io.unobserve(ent.target); }
        });
      }, {rootMargin: '0px 0px -10% 0px', threshold: .12});
      els.forEach(e=>io.observe(e));
    })();
  </script>
</body>
</html>





